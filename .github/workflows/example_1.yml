name: Check Tickets (New Action)
on:
  workflow_dispatch:
  schedule:
    - cron: '*/5 * * * *' # 5ë¶„ë§ˆë‹¤ ìë™ ì‹¤í–‰
jobs:
  job:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    steps:
    
    # 1. ğŸ“¦ Action Checkout (ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ê°€ì ¸ì˜¤ê¸°)
    - name: Checkout Code
      uses: actions/checkout@v4
    
    # 2. ğŸ Python í™˜ê²½ ì„¤ì •
    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.x'
        
    # 3. ğŸš¨ ìƒˆë¡œìš´ ë©œë¡  í‹°ì¼“ ê°ì‹œ Action ì‹¤í–‰ (6ê°œ ê°ì‹œ í†µí•©)
    #    * ì´ Actionì€ SHA ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.
    - name: Run Melon Ticket Checker for 6 Steps
      uses: a-n-t-o-n-i/melon-ticket-checker@v1.0.0
      with:
        product_id: '211782'
        
        # 1ì¼ì°¨ (schedule-id: 100001)
        schedule_id_1: '100001'
        seat_ids_1: '10000,10008,12051' # VIP, ì¼ë°˜, ì‹œì œ
        messages_1: 'VIP ì¢Œì„ í’€ë ¸ìŠµë‹ˆë‹¤! (1ì¼ì°¨), ì¼ë°˜ì„ í’€ë ¸ìŠµë‹ˆë‹¤! (1ì¼ì°¨), ì‹œì œì„ í’€ë ¸ìŠµë‹ˆë‹¤! (1ì¼ì°¨)'
        
        # 2ì¼ì°¨ (schedule-id: 100002)
        schedule_id_2: '100002'
        seat_ids_2: '10000,10008,12051' # VIP, ì¼ë°˜, ì‹œì œ
        messages_2: 'VIP ì¢Œì„ í’€ë ¸ìŠµë‹ˆë‹¤! (2ì¼ì°¨), ì¼ë°˜ì„ í’€ë ¸ìŠµë‹ˆë‹¤! (2ì¼ì°¨), ì‹œì œì„ í’€ë ¸ìŠµë‹ˆë‹¤! (2ì¼ì°¨)'

        slack_webhook_url: ${{ secrets.SLACK_WEBHOOK_URL }}
